<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Прилипание блока + подсветка в меню</title>
  <style>
	section {display: grid; grid-gap: 10px; grid-template: minmax(200px, max-content) 40px / 1fr 300px;  grid-template-areas: "main aside";}
	.main {grid-area: main;}
	.aside {grid-area: aside; background: grey;}
	.navigtxt-fixed {position:fixed; top:70px; right:5px; max-width:280px;}
	
  </style>
</head>

<body>
  <header>Хедер </header>
  <section style="width:100%; height:500px; background:orange;"></section>
  
  
  
  <section>
	<main class="main">
			<div class="text_content">
			
				<h2 class="h-nav" id="kak_uskorit_indeksatsiyu_sayta_v_yandeks_i_google">1. Карта сайта</h2>
				<p>Карта сайта – файл, в котором содержатся адреса всех страниц ресурса, он находится в корне файловой системы и носит имя Sitemap. Перед началом индексирования, поисковый робот обращается к этому файлу, после проходит все (если не позволяет краулинговый бюджет, то часть) указанные в нем страницы. Такая карта создается в формате XML, как вручную, так и с помощью специальных <noindex><a href="https://www.mysitemapgenerator.com/" target="_blank" rel="nofollow">сервисов </a></noindex>или плагинов для CMS. Кроме XML карты, можно создать отдельную HTML страницу, содержащую в себе ссылки на все страницы сайта.</p>
				<p>После создания карты, ее нужно загрузить в Вебмастере Яндекса и в Google Search Console в соответствующие разделы.</p>
				<p style="text-align: center;"><img src="/upload/medialibrary/a54/a544372790c77a815d8056ecbb545a89.png" title="Загрузка карты сайта" border="0" alt="Загрузка карты сайта в Яндекс Вебмастер" width="800" height="359"><br><span class="image_description" style="width: 800px;">Загрузка карты сайта в Яндекс Вебмастер</span></p>
				<p style="text-align: center;"><img src="/upload/medialibrary/7e3/7e3b102578ce4df2540f8e68ebc8ee01.png" title="Загрузка карты сайта " border="0" alt="Загрузка карты сайта в Google Search Console" width="800" height="363"><br><span class="image_description" style="width: 800px;">Загрузка карты сайта в Google Search Console</span></p>
				<p>Нужно понимать, что карта сайта должна либо обновляться автоматически, либо вручную при добавлении нового материала.</p>
				
				<h2 class="h-nav" id="2_sozdanie_robots_txt">2. Создание robots.txt</h2>
				<p>В данном файле указывают правила индексирования тех или иных страниц, разделов и сайта в целом. Не все страницы могут быть полезны для пользователя, поэтому их важно закрыть от индексации. Сделать это можно в файле robots.txt, прописав специальную директиву.&nbsp;</p>
				<p>Путь до карты сайта прописывается также в этом файле.</p>
				<p>Синтаксис позволяет применять для определенных поисковиков уникальные правила. </p>
				<p>Если robots.txt заполнен корректно и исключает из индекса все мусорные страницы, то это положительно влияет на скорость индексации (а в некоторых случаях и на ранжирование) ресурса. Подробнее про файл robots.txt можно прочитать в&nbsp;<a href="https://yandex.ru/support/webmaster/controlling-robot/robots-txt.html" target="_blank">Яндекс Справке</a>.</p>
				
				<h2 class="h-nav" id="3_sayt_s_pravilnoy_strukturoy">3. Сайт с правильной структурой</h2>
				<p>Один из основных факторов, влияющих на скорость индексации – логически правильная структура сайта. Желательно избегать таких структур, при которых страница может оказаться более чем на 5-ом уровне вложенности, что усложнит работу краулеру. Идеал до 3-х уровней вложенности. О том,&nbsp;<a href="https://www.directline.pro/blog/uroven-vlozhennosti-stranits-na-sayte/" target="_blank">как проверить и сократить уровень вложенности страниц</a>&nbsp;мы писали в соответствующей статье блога.</p>
				
				<h2 class="h-nav" id="4_perelinkovka_vnutrennikh_stranits">4. Перелинковка внутренних страниц</h2>
				<p>Кроме ссылок в общем меню, рекомендуется продумать дополнительную перелинковку страниц. Дело в том, что краулер имеет возможность посещать только те страницы, на которые имеются ссылки. Наиболее действенным вариантом будет размещение URL-адресов на посещаемых страницах, например, главной.</p>
				<p>К внутренней перелинковке также относятся блоки рекомендованных товаров, похожих или новых материалов, гиперссылки внутри статьи с анкорами, которые могут содержать ключевые слова.</p>
				<p>Рекомендуется проставлять ссылки обдуманно, чтобы страница донора и акцептора были релевантными между собой. Также должен соблюдаться принцип, при котором на любую полезную для пользователя страницу, ведет внутренняя ссылка.</p>
				<p>Хлебные крошки являются элементом навигации и улучшают внутреннюю перелинковку.</p>
				
				<h2 class="h-nav" id="5_kachestvo_tekstov">5. Качество текстов</h2>
				<p>Не допускается публикация дублей текстового контента с других ресурсов, с этим поисковики активно и успешно борются. Контент в первую очередь, должен быть уникальным и полезным для посетителя. Что касается уникальности, то она легко проверяется в одном из многочисленных сервисов, в том числе и на поверхностный рерайт.</p>
				<p>К качеству текстов можно отнести и подход к их SEO оптимизации. Если на странице присутствует большое количество переспама и воды, то она скорее всего не проиндексируется краулером. </p>
				<p>Помните, поисковые алгоритмы хорошо понимают структуру текста, и даже неправильные окончания или многочисленные орфографические ошибки, могут стать причиной плохой индексации сайта или даже попадания его под фильтры.</p>
				<p>Объем текста может влиять на индексацию страницы в целом, поэтому рекомендуется публиковать статьи более 1500 символов.</p>
				
				<h2 class="h-nav" id="6_dubli_stranits">6. Дубли страниц</h2>
				<p>Созданием дублей грешат многие CMS. Одна и та же страница может иметь разные URL-адреса, в зависимости от того, в каком месте она публикуется.</p>
				<p>Примеры дублей страниц:</p>				
				<p>По факту, это одна страница, но для поисковика разные, точнее по разным адресам он видит одну и ту же. Если сайт небольшой, то робот отбросит 3 URL, оставив в индексе один, но если страниц много, то проблем с индексацией не избежать.</p>
				<p>Чтобы закрыть вопрос создания дублей, следует установить и настроить плагин на свою CMS систему, благо под большинство они уже есть в готовом варианте. Плагин, как правило, не только удаляет дубли, но и создает 301 редиректы в файле .htaccess.</p>
				
				<h2 class="h-nav" id="7_regulyarnoe_napolnenie_sayta">7. Регулярное наполнение сайта</h2>
				<p>Если ресурс наполняется нерегулярно, то робот может растянуть диапазон между своими визитами, что в свою очередь, значительно замедлит попадание новых страниц в индекс.&nbsp;</p>
				<p>Если говорить о публикации новых материалов, то рекомендуется делать это не реже раза в неделю, тогда сайт будет выглядеть «живым» в глазах поисковиков. А если же страницы будут появляться ежедневно, то через определенное время краулер будет посещать ресурс по несколько раз в сутки.</p>
				
				<h2 class="h-nav" id="8_paneli_vebmasterov">8. Панели вебмастеров</h2>
				<p>Новый сайт сразу после его создания, рекомендуется добавить в панели вебмастеров Яндекса и Гугла: Вебмастер и Search Console.</p>
				<p style="text-align: center;"><img src="/upload/medialibrary/06d/06d75b1957c8a6f7988bafe5494dbdf6.png" title="Яндекс Вебмастер" border="0" alt="Добавление сайта в Яндекс Вебмастер" width="603" height="269"><br><span class="image_description" style="width: 603px;">Добавление сайта в Яндекс Вебмастер</span></p>
				<p style="text-align: center;"><img src="/upload/medialibrary/37c/37cc8c84cb5aef9506afecf21cedc073.png" title="Google Search Console" border="0" alt="Добавление сайта в Google Search Console" width="752" height="596"><br><span class="image_description" style="width: 752px;">Добавление сайта в Google Search Console</span></p>
				<p>Внутри этих панелей происходит добавление файлов карт сайта, отслеживание основных показателей, а также там можно увидеть многочисленные рекомендации по улучшению ресурса в целом.</p>
				<p>При добавлении, будьте готовый к тому, что придется подтвердить права владельца ресурса. Делается это разными способами, например, с помощью специального файла, который необходимо будет разместить в корне сайта.</p>
				
				<h2 class="h-nav" id="9_pereobkhod_stranits">9. Переобход страниц</h2>
				<p>Чтобы сообщить Яндексу о новых страницах, следует в Вебмастере зайти в «Индексирование-Переобход страниц», и добавить список URL-адресов.</p>
				<p style="text-align: center;"><img src="/upload/medialibrary/80e/80ea945a147c1afe99d171ddc42396d4.png" title="Переобход страниц в Яндекс Вебмастере" border="0" alt="Добавление списка URL для переобхода" width="800" height="225"><br><span class="image_description" style="width: 800px;">Добавление списка URL для переобхода</span></p>
				<p>О статусе переобхода отправленных страниц можно узнать на этой же странице Яндекс Вебмастера.</p>
				
				<h2 class="h-nav" id="10_google_indexing_api">10. Google Indexing API</h2>
				<p>Чтобы ускорить индексацию новых страниц в Google, имеется специальная технология – <a href="https://developers.google.com/search/apis/indexing-api/v3/quickstart?hl=ru" target="_blank">Google Indexing API</a>. В официальной справке сказано, что она ориентирована лишь на сайты с видеоконтентом и вакансиями. Но по факту, поддерживаются ресурсы с другими типами контента.</p>
				<p>После подключения Indexing API, в Google будут автоматически отправляться запросы с информацией о новых, обновленных или удаленных страницах.</p>
				
				<h2 class="h-nav" id="11_skorost_zagruzki_stranits">11. Скорость загрузки страниц</h2>
				<p>Важнейший параметр, который влияет на качество индексации и ранжирования в целом. Для проверки скорости загрузки отдельно взятой страницы можно использовать сервис <a href="https://developers.google.com/speed/pagespeed/insights/?hl=RU" target="_blank">PageSpeed Insights</a>, там же будут даны подробные рекомендации по оптимизации ресурсов (медиа, кода и т.д.).</p>
				<p>Также эта информация доступна в Яндекс Метрике, в отчете «Время загрузки страниц».&nbsp;</p>
				<p style="text-align: center;"><img src="/upload/medialibrary/de0/de00e12467caeacfaf023966d06fd75d.png" title="Стандартные отчеты о времени загрузки страниц" border="0" alt="Отчет о времени загрузки страниц" width="800" height="614"><br><span class="image_description" style="width: 800px;">Отчет о времени загрузки страниц</span></p>
				
				<h2 class="h-nav" id="12_obratnye_ssylki_s_tematicheskikh_resursov">12. Обратные ссылки с тематических ресурсов</h2>
				<p>Ссылочная масса – один из основных инструментов SEO продвижения. Но влияет она не только на ранжирование сайта, но и на скорость его индексации. К примеру, разместив ссылку на тематическом ресурсе (сайт схожей тематики), ведущую на новую страницу вашего сайта, вы поможете крайлеру быстрее о ней узнать.</p>
				
				<h2 class="h-nav" id="13_ssylki_s_sotsialnykh_setey">13. Ссылки с социальных сетей</h2>
				<p>Получить ссылку на страницу сайта можно путем ведения своей группы в одной из ведущих социальных сетей (ВК, FB, Instagram, Твиттер). Особенное влияние это имеет на пауков Google, при такой публикации, новая страница может «залетать» в индекс буквально за считанные часы. Особенно это касается ссылок из Твиттера. Для Яндекса к Твиттеру стоит добавить «ВКонтакте». Правило простое – чем больше активности в соц. сетях, тем чаще вас посещают краулеры.</p>
				<p>Если нет возможности полноценно вести соц. сети, то как вариант, стоит попробовать кросс-постинг. То есть после публикации материала на сайте, его вступительная часть копируется в пост социальной сети и делается ссылка на страницу. В таком случае первоисточником будет выступать сайт, но краулер гораздо быстрее доберется до опубликованной страницы.</p>
				
				<h2 class="h-nav" id="14_razmeshchenie_sayta_v_razlichnykh_reytingakh">14. Размещение сайта в различных рейтингах</h2>
				<p>Также увеличивает ссылочную массу ресурса и ускоряет его индексацию. В качестве таких рейтингов можно выделить:</p>
				
				<h2 class="h-nav" id="15_ssylki_v_kommentariyakh">15. Ссылки в комментариях</h2>
				<p>Большинство блогов работают на системе Wordpress, у которой имеется возможность комментирования с прикреплением ссылки на свой сайт. Первое, что нужно сделать – найти тематические блоги, в которых автор разбирает смежную тематику. После идем в комментарии, пишем осмысленный текст, но вместо ссылки на сайт, ставим ее на страницу.</p>
				<p>Главное правило – блог должен быть схожей тематики, иначе такая ссылка может засчитаться за неестественную (поставленную для манипуляций факторами ранжирования). Если добавить ссылку в тело комментария, она, скорее всего, не пройдет модерацию.</p>
				
				<h2 class="h-nav" id="16_ssylki_s_forumov">16. Ссылки с форумов</h2>
				<p>На форумах можно (если допускается администрацией) вести диалоги, ссылаясь на свой ресурс. Кроме этого, в настройках профиля часто встречается поле «Сайт», которое рекомендуется заполнить. Однако этот метод довольно-таки сложен в исполнении, т.к. высокопосещаемые форумы активно модерируются, посторонние ссылки не допускаются.</p>
				<p>Постинг на форумах с обратными ссылками имеет свои нюансы, и если нет опыта, то лучше доверить это специалистам. Услуга называется «Крауд-маркетинг».</p>
				
				<h2 class="h-nav" id="17_pingovanie">17. Пингование</h2>
				<p>С помощью пингования, поисковые системы оповещаются при появлении нового контента. В Wordpress эта функция реализована уже «из коробки», достаточно указать в админке ссылки на специальные сервисы.</p>
				<p style="text-align: center;"><img src="/upload/medialibrary/dba/dbaeab423c1c590b8896bc7d5d42b6f0.png" title="Пингование" border="0" alt="Функция пингования в Wordpress" width="800" height="431"><br><span class="image_description" style="width: 800px;">Функция пингования в Wordpress</span></p>
				<p>Вот сервисы, которые используются для пингования:</p>
				<p>Помните, при частом пинговании, поисковики могут принять это за спам.</p>
				
				<h2 class="h-nav" id="18_lovets_botov">18. Ловец ботов</h2>
				<p>Схема актуальна для многостраничных проектов, достаточно сложна в исполнении. Ловец ботов – программный алгоритм, которые следит за процессом индексации краулером, указывая ему ссылки на нужные (непроиндексированные ранее) страницы. Работает он по принципу отслеживания посещенных роботом страниц в логах сервера. В рамках данной статьи не будем углубляться в эту тему, но при продвижении крупных сайтов стоит иметь ее в виду, обратившись при этом к компетентным командам (SEO, программисты).</p>
			</div>
	</main>
	<aside class="aside" id="stick">
		<ol class="navigtxt-menu">
			<li><a href="#1_karta_sayta">1. Карта сайта</a></li>
			<li class=""><a href="#2_sozdanie_robots_txt">2. Создание robots.txt</a></li>
			<li class=""><a href="#3_sayt_s_pravilnoy_strukturoy">3. Сайт с правильной структурой</a></li>
			<li class=""><a href="#4_perelinkovka_vnutrennikh_stranits">4. Перелинковка внутренних страниц</a></li>
			<li class=""><a href="#5_kachestvo_tekstov">5. Качество текстов</a></li>
			<li class=""><a href="#6_dubli_stranits">6. Дубли страниц</a></li>
			<li class=""><a href="#7_regulyarnoe_napolnenie_sayta">7. Регулярное наполнение сайта</a></li>
			<li class=""><a href="#8_paneli_vebmasterov">8. Панели вебмастеров</a></li>
			<li class=""><a href="#9_pereobkhod_stranits">9. Переобход страниц</a></li>
			<li class=""><a href="#10_google_indexing_api">10. Google Indexing API</a></li>
			<li class=""><a href="#11_skorost_zagruzki_stranits">11. Скорость загрузки страниц</a></li>
			<li class=""><a href="#12_obratnye_ssylki_s_tematicheskikh_resursov">12. Обратные ссылки с тематических ресурсов</a></li>
			<li class=""><a href="#13_ssylki_s_sotsialnykh_setey">13. Ссылки с социальных сетей</a></li>
			<li class=""><a href="#14_razmeshchenie_sayta_v_razlichnykh_reytingakh">14. Размещение сайта в различных рейтингах</a></li>
			<li class=""><a href="#15_ssylki_v_kommentariyakh">15. Ссылки в комментариях</a></li>
			<li class=""><a href="#16_ssylki_s_forumov">16. Ссылки с форумов</a></li>
			<li class=""><a href="#17_pingovanie">17. Пингование</a></li>
			<li class=""><a href="#18_lovets_botov">18. Ловец ботов</a></li>
		</ol>
	</aside>  
  </section>
  
  
  
  <section style="width:100%; height:500px; background:orange;"></section>  
  <footer>Футер</footer>
</body>

<script>
	// Имя локальной переменной в хранилище браузера, для хранения точки верхней границы
	const FIRST_POS_NAME = '_first-slide-position';
	// Нижней границы
	const LAST_POS_NAME = '_last-slide-position';
	// Отступ при фиксации
	const FIX_LENGTH = 50;
	//// Базовая стилизация запрепляемого блока прописыватся в аттрибут style
	//// Так как там передаются аргументы в зависимости от состояния 
	//// Остальная стилизация прописана в классе fixed
	// Устанавливает первое значение положения верха окна
	let firstPos = 0;
	// Устанавливает последнее значение положения верха окна
	let lastPos = 0;
	// Получает элемент
	const targetElement = document.querySelector('#stick');
	// Находит футер
	const footer = document.querySelector('footer');

	/*
		Функция фиксирующая элемент
	*/
	function fixElement(x, y, restart = false) {
		const { pageYOffset } = window;
		// Обновляет последнюю позицию окна
		lastPos = pageYOffset;
		// Добавляет стили
		targetElement.setAttribute('style', `top: ${FIX_LENGTH}; left: ${x};`);
		targetElement.classList.add('fixed');
		// Если первая позиция окна при прилипании не чиста, то устанавливает её
		if (firstPos === 0 && !restart) {
			firstPos = pageYOffset;
			const _firstPos = localStorage.getItem(FIRST_POS_NAME);
			// Сохраняет позицию окна при фиксации для фиксации после перезагрузки
			if (!_firstPos) {
				localStorage.setItem(FIRST_POS_NAME, pageYOffset);
			}
		}
	}

	/*
		Фиксация элемента внизу страницы
	*/
	function setElemInBottom(x) {
		targetElement.setAttribute('style', `margin: auto 0 0 0; left: ${x};`);
		targetElement.classList.remove('fixed');
	}
	
	/*
		Событие загрузки окна, для размещения элемента
	*/
	window.onload = () => {
		// Получает ссылки на элементы и сохраненные данные
		const { pageYOffset: firstPageY } = window;
		const { y: firstY, x: firstX, height } = targetElement.getBoundingClientRect();
		const { y: footerY } = footer.getBoundingClientRect();
		const _firstPos = localStorage.getItem(FIRST_POS_NAME);
		firstPos = parseInt(_firstPos);
		if ((firstY < FIX_LENGTH && firstPageY > lastPos) && firstPageY < footerY) {
			// Элемент должен быть фиксирован
			fixElement(firstX, FIX_LENGTH, true);	
		} else if ((firstPageY + innerHeight + height - FIX_LENGTH * 2 >= footerY + pageYOffset) && pageYOffset > footerY) {
			// Элемент должен быть закреплен внизу
			setElemInBottom(firstX);
		}

		/**
		 * Прослушиватель прокрутки окна, внимание, если на данной странице уже есть прослушиватель прокрутки
		 * с куском кода то их нужно объеденить с этим куском, чтобы был одни onscroll обработчик на странице 
		*/
		window.addEventListener('scroll', () => {
			//// При каждом скролле страницы
			// Получает координаты окна и элемента
			const { pageYOffset, innerHeight } = window;
			const rect = targetElement.getBoundingClientRect();
			const { y, x, height } = rect;
			const { y: footerY, height: footerHeight } = footer.getBoundingClientRect();
			// Если положение элемента относительно верха страницы меньше 50 и идет прокрутка вниз
			if ((y < FIX_LENGTH && pageYOffset > lastPos) && pageYOffset < footerY) {
				// Элемент стал выше окна
				fixElement(x, y);
			} else if (pageYOffset <= firstPos) {
				// Элемент стал ниже окна
				targetElement.removeAttribute('style');
				targetElement.classList.remove('fixed');
				firstPos = 0;
				lastPos = 0;
				// FIX_LENGTH * 2 - нужно подгонять это в зависимости от отступа секции 
				// То есть выравнивает непосредственно по блоку, но размещает в секцию, а у неё может быть другой оступ снизу
			} else if ((pageYOffset + innerHeight + height - FIX_LENGTH * 3 >= footerY + pageYOffset) && pageYOffset > footerY) {
				// Элемент стал ниже футера
				setElemInBottom(x);
			} else if ((pageYOffset + innerHeight + height - FIX_LENGTH * 3 < footerY + pageYOffset) && pageYOffset > footerY) {
				// Элемент стал выше футера
				fixElement(x, FIX_LENGTH);
			}
		});
	}
</script>
 <link rel="stylesheet" href="css/style.css">
</html>
<!--
На сайте https://www.directline.pro/blog/kak-uskorit-indeksatsiyu-sayta/
Справа есть блок - СОДЕРЖАНИЕ - нужно сделать аналог.

1. За 60рх от верха екрана блок (.navigtxt-menu) ДОБАВЛЯЕТСЯ стиль (.navigtxt-fixed).

2. Когда заголовок H2 с id="2_sozdanie_robots_txt" попадает в верхнюю часть екрана то в блоке с class="navigtxt-menu" к соотвествующему списку где ссылка (<a href="#2_sozdanie_robots_txt">2. Создание robots.txt</a>)
 - ДОБАВЛЯЕТСЯ клас "navigtxt-menu-act".
 (Пример можно посмотреть на сайте выше - опуститись к пункту 15!)

3. Если блок с стилем  "text_content"  своим нижнем краем поднимается више 60рх низа екрана то в блоке (.navigtxt-menu) УБИРАЕТСЯ стиль (.navigtxt-fixed)

:) Если есть Ваш способ решения то делайте по своему - ГЛАВНОЕ ЧТОБЫ РАБОТАЛО АНАЛОГИЧНО ПРИМЕРУ!
-->
